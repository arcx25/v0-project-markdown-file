{# Reusable tier selector component for contributions #}
{% macro render_tier_selector(tiers, listing_slug) %}
<div class="tiers-selector">
    {% for tier in tiers %}
    <div class="tier-option {% if tier.is_highlighted %}highlighted{% endif %} {% if not tier.is_available %}sold-out{% endif %}">
        <div class="tier-option-header">
            <h4>{{ tier.name }}</h4>
            <span class="tier-price">{{ tier.amount_display }}</span>
        </div>
        
        <p class="tier-description">{{ tier.description }}</p>
        
        {% if tier.perks %}
        <ul class="tier-perks">
            {% for perk in tier.perks %}
            <li>âœ“ {{ perk }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        
        {% if tier.spots_remaining is not none %}
        <p class="tier-spots">
            {% if tier.spots_remaining > 0 %}
            <span class="spots-available">{{ tier.spots_remaining }} spots left</span>
            {% else %}
            <span class="spots-none">Sold out</span>
            {% endif %}
        </p>
        {% endif %}
        
        {% if tier.is_available %}
        <a href="/support/{{ listing_slug }}/contribute/{{ tier.id }}" 
           class="btn btn-primary btn-block">
            Select This Tier
        </a>
        {% else %}
        <button class="btn btn-disabled btn-block" disabled>
            Sold Out
        </button>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endmacro %}
